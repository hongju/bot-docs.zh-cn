---
redirect_url: /bot-framework/bot-builder-send-welcome-message
ms.openlocfilehash: ef281fd1b6539484c06f68caffbd4e87ec8acc2b
ms.sourcegitcommit: cb0b70d7cf1081b08eaf1fddb69f7db3b95b1b09
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/09/2018
ms.locfileid: "51332901"
---
<a name="--"></a><!--
---
title: 欢迎用户 | Microsoft Docs description: 了解如何设计机器人来提供欢迎用户体验。
keywords: 概述, 设计, 用户体验, 欢迎, 个性化体验 author: dashel ms.author: dashel manager: kamrani ms.topic: article ms.service: bot-service ms.subservice: sdk ms.date: 8/30/2018 monikerRange: 'azure-bot-service-4.0'
---

# <a name="welcoming-the-user"></a>欢迎用户

创建任何机器人的主要目标都是让用户参与富有意义的聊天。 实现此目标的最佳方法之一是确保从用户首次连接的那一刻起，他们就了解你的机器人主要用途和功能，以及创建它的原因。

## <a name="show-your-purpose"></a>展示用途

如果用户希望查找芝加哥的酒店，想像一下当他们连接到标签为“芝加哥旅游信息”的机器人时的体验。 他们不知道，你的机器人实际上是针对深盘披萨爱好者提供的，并且仅提供餐馆指点。 一旦发现他们的问题没有得到正确的回答，用户会很快离开，并认为你的网站提供了糟糕的在线体验。 如果在欢迎用户光临时就提供足够的信息，让他们了解你的机器人的主要用途和功能，则可以避免这样的不良用户体验。 

![欢迎消息](./media/welcome_message.png)

在阅读你的欢迎消息时，如果你的机器人不提供用户所需的信息类型，则他们可以在经历令人沮丧的互动之前快速离开。
每当用户首次与你的机器人进行互动时，都应当生成欢迎消息。 要实现此目的，可以监视机器人的**活动**类型并关注新连接。 每个新连接可以生成最多两个聊天更新活动，具体取决于通道。

- 当用户的机器人连接到聊天时生成一个。
- 当用户加入聊天时生成一个。

每当检测到新的聊天更新时简单地生成欢迎消息很容易，但当跨各种通道访问机器人时，这可能会导致意外结果。

## <a name="design-for-different-channels"></a>针对不同通道进行设计

虽然你可以完全控制机器人提供的信息，但你可能无法控制不同的通道如何实现该信息的呈现。 有些通道在用户最初连接到该通道时创建一个聊天更新，并且只有在从用户那里收到首个输入消息后才会创建另一个聊天更新。 另一些通道会在用户最初连接到通道时同时生成这两个活动。 在具有两个聊天更新活动的通道上，如果你只是简单地关注聊天更新事件并显示欢迎消息，则用户可能会收到以下内容：

![双重欢迎消息](./media/double_welcome_message.png)

可以通过仅为第二个聊天更新事件生成初始欢迎消息来避免此重复的消息。 当同时满足以下两个条件时可以检测到第二个事件：
- 已发生了一个聊天更新事件。
- 已将新成员（用户）添加到聊天。

考虑用户的输入何时可能实际包含有用的信息也很重要，并且这可能也因通道而异。 如果某个通道在机器人初次连接时同时生成两个聊天更新活动，则可以成功将用户的首个输入评估为对你的欢迎消息提示的回答，就像下面显示的聊天一样。

![单个输入响应](./media/single_input_response.png)

但是，如果通道在生成第二个聊天更新事件之前等待首个用户收入，则使用与上面完全相同的代码可能会产生以下用户体验。

![单个输入错误响应](./media/single_input_wrong_response.png)

若要确保用户在所有可能的通道上都获得良好的体验，最佳做法是不要期望用户的首个聊天输入中会包含有用信息。 相反，应将首个输入视为“丢弃”数据，并在收到该输入时提示用户提供继续聊天所需的信息。 此方法将产生一致的用户体验，无论初次访问机器人时使用的是什么通道。

![丢弃第一个输入](./media/no_first_input_response.png)

## <a name="personalize-the-user-experience"></a>个性化用户体验

对于用户来说，没有什么比不断提示用户提供他们已提供的信息更不受欢迎和没有人情味了。 如果机器人保留之前已进行访问的用户的信息，则较好的做法是先检查该信息，然后，如果该信息可用，则使用在之前访问时存储的姓名来欢迎用户回来。 

![欢迎回来消息](./media/welcome_back.png)

在这种情况下，你的聊天逻辑会跳过提示输入姓名并继续前进到下一个会话活动。

机器人还可以通过及时响应意外的用户输入（例如，终止聊天请求）来个性化用户的体验。

![响应退出请求](./media/respond_to_exit.png)

在互动时请及时响应并保持健谈，这有助于让用户感觉更受欢迎并且更享受与你的机器人的互动。

## <a name="next-steps"></a>后续步骤
> [!div class="nextstepaction"]
> [发送欢迎消息给用户](bot-builder-send-welcome-message.md)

-->
